<!DOCTYPE html>
<html>
  <head>
    <title>Map Conan - Conan Exiles Interactive Map</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css">
	<link rel="stylesheet" href="groupedlayercontrol.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.css">
    <script src="leaflet.js" type="text/javascript"></script>
	<script src="groupedlayercontrol.js" type="text/javascript"></script>
	<script src="icons.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.js" type="text/javascript"></script>
    <style>
      html, body, 
	  
	  #map { width:100%; height:100%; margin:0; padding:0; z-index: 1; background: #000000; }
	  	  
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script type="text/javascript">
		var mapExtent = [0.00000000, -4000.00000000, 4000.00000000, 0.00000000];
		var mapMinZoom = 3;
		var mapMaxZoom = 6;
		var mapMaxResolution = 0.25000000;
		var mapMinResolution = Math.pow(2, mapMaxZoom) * mapMaxResolution;
		var tileExtent = [0.00000000, -4000.00000000, 4000.00000000, 0.00000000];
		var bounds = [[0,0], [-4000,4000]];
		var crs = L.CRS.Simple;
			crs.transformation = new L.Transformation(1, -tileExtent[0], -1, tileExtent[3]);
			crs.scale = function(zoom) {
				return Math.pow(2, zoom) / mapMinResolution;
			};
			crs.zoom = function(scale) {
				return Math.log(scale * mapMinResolution) / Math.LN2;
			};

		var map = new L.Map('map', {
			maxZoom: mapMaxZoom,
			minZoom: mapMinZoom,
			layers: overlays,
			crs: crs,
			maxBounds: bounds,
			maxBoundsViscosity: 1,
			attributionControl:false
			
		});
			layer = L.tileLayer('{z}/{x}/{y}.png', {
			minZoom: mapMinZoom, maxZoom: mapMaxZoom,
			noWrap: true,
			tms: false
		}).addTo(map);
			map.fitBounds(bounds);
	
	L.control.mousePosition().addTo(map)
	  	
		//Create Mineral Groups
		var ironGroup = L.layerGroup().addTo(map);
		var coalGroup = L.layerGroup().addTo(map);
		var brimstoneGroup = L.layerGroup().addTo(map);
		var crystalGroup = L.layerGroup().addTo(map);
		var silverGroup = L.layerGroup().addTo(map);
		var starmetalGroup = L.layerGroup().addTo(map);
		
		//Create Misc Groups
		var religonGroup = L.layerGroup().addTo(map);
		
		//Create Thrall Groups
		var alchemistGroup = L.layerGroup().addTo(map);
		var armorerGroup = L.layerGroup().addTo(map);
		var blacksmithGroup = L.layerGroup().addTo(map);
		var carpenterGroup = L.layerGroup().addTo(map);
		var cookGroup = L.layerGroup().addTo(map);
		var entertainerGroup = L.layerGroup().addTo(map);
		var priestGroup = L.layerGroup().addTo(map);
		var sherpaGroup = L.layerGroup().addTo(map);
		var smelterGroup = L.layerGroup().addTo(map);
		var tannerGroup = L.layerGroup().addTo(map);
		var taskmasterGroup = L.layerGroup().addTo(map);
		
		//Create Named Thrall Groups
		var namedArcherGroup = L.layerGroup().addTo(map);
		var namedAlchemistGroup = L.layerGroup().addTo(map);
		var namedArmorerGroup = L.layerGroup().addTo(map);
		var namedBlacksmithGroup = L.layerGroup().addTo(map);
		var namedCarpenterGroup = L.layerGroup().addTo(map);
		var namedCookGroup = L.layerGroup().addTo(map);
		var namedEntertainerGroup = L.layerGroup().addTo(map);
		var namedPriestGroup = L.layerGroup().addTo(map);
		var namedSherpaGroup = L.layerGroup().addTo(map);
		var namedSmelterGroup = L.layerGroup().addTo(map);
		var namedTannerGroup = L.layerGroup().addTo(map);
		var namedTaskmasterGroup = L.layerGroup().addTo(map);
		var namedFighterGroup = L.layerGroup().addTo(map);

		
		//Create Location Groups
		var caveGroup = L.layerGroup().addTo(map);
		var dungeonGroup = L.layerGroup().addTo(map);
		
		//Set the groups
		var overlays = {
			"Iron": ironGroup,
			"Coal": coalGroup,
			"Brimstone": brimstoneGroup,
			"Crystal": crystalGroup,
			"Silver": silverGroup,
			"Star Metal": starmetalGroup,
			"NPC - Religon Trainer": religonGroup,
			"Thrall - Alchemist": alchemistGroup,
			"Thrall - Armorer": armorerGroup,
			"Thrall - Bearer": sherpaGroup,
			"Thrall - Blacksmith": blacksmithGroup,
			"Thrall - Carpenter": carpenterGroup,
			"Thrall - Cook": cookGroup,
			"Thrall - Entertainer": entertainerGroup,
			"Thrall - Priest": priestGroup,
			"Thrall - Tanner": tannerGroup,
			"Thrall - Taskmaster": taskmasterGroup,
			"Thrall - Smelter": smelterGroup,
			"Named Thrall - Archer": namedArcherGroup,
			"Named Thrall - Alchemist": namedAlchemistGroup,
			"Named Thrall - Armorer": namedArmorerGroup,
			"Named Thrall - Blacksmith": namedBlacksmithGroup,
			"Named Thrall - Carpenter": namedCarpenterGroup,
			"Named Thrall - Cook": namedCookGroup,
			"Named Thrall - Entertainer": namedEntertainerGroup,
			"Named Thrall - Fighter": namedFighterGroup,
			"Named Thrall - Priest": namedPriestGroup,
			"Named Thrall - Bearer": namedSherpaGroup,
			"Named Thrall - Smelter": namedSmelterGroup,
			"Named Thrall - Tanner": namedTannerGroup,
			"Named Thrall - Taskmaster": namedTaskmasterGroup,			
			"Locations - Caves": caveGroup,
			"Locations - Dungeons": dungeonGroup
		};
		
		//Crystal Icons
		L.marker([-3266,1310], {icon: crystalIcon}).addTo(map).bindPopup("Crystals in Cavern of Fiends").addTo(crystalGroup),
		
		//Iron Icons
		L.marker([-3021,1337.5], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2644.5,352], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-3016.5,1340.75], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-3015.75,1330], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup),
		L.marker([-3021,1351.5], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-3037,1354.25], {icon: ironIcon}).addTo(map).bindPopup("19 Iron Nodes").addTo(ironGroup),
		L.marker([-3031.75,1382.25], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-3037,1354.25], {icon: ironIcon}).addTo(map).bindPopup("19 Iron Nodes").addTo(ironGroup),
		L.marker([-3037.25,1388.75], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2678.75,409.25], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-3073,713.75], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2877,642.5], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2878.5,688], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2205.5,335], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2551.5,555], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2245,555.5], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2652.5,510], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2626.25,353.5], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2658.25,384.25], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2857.25,711.5], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2575.25,342.75], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-2670.25,515.5], {icon: ironIcon}).addTo(map).bindPopup("1 Iron Node").addTo(ironGroup),
		L.marker([-3041,1395.75], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2490.5,353.5], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2540.5,552.5], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-3022.5,1367], {icon: ironIcon}).addTo(map).bindPopup("5 Iron Nodes").addTo(ironGroup),
		L.marker([-2098.75,471.75], {icon: ironIcon}).addTo(map).bindPopup("5 Iron Nodes").addTo(ironGroup),
		L.marker([-2560,558.5], {icon: ironIcon}).addTo(map).bindPopup("5 Iron Nodes").addTo(ironGroup),
		L.marker([-3022,1387.75], {icon: ironIcon}).addTo(map).bindPopup("14 Iron Nodes").addTo(ironGroup),
		L.marker([-3005.5,1368.25], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup),
		L.marker([-2997.25,1354.75], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2473.25,359.25], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2699,398], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2519.25,888.75], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2746.5,447.25], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2789.75,467.25], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-2262.25,527], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes").addTo(ironGroup),
		L.marker([-3016.5,1315.5], {icon: ironIcon}).addTo(map).bindPopup("21 Iron Nodes - On Cliff").addTo(ironGroup),
		L.marker([-3011.5,1302.5], {icon: ironIcon}).addTo(map).bindPopup("12 Iron Nodes - On Cliff").addTo(ironGroup),
		L.marker([-3008.25,1286.75], {icon: ironIcon}).addTo(map).bindPopup("20 Iron Nodes - On Plateau").addTo(ironGroup),
		L.marker([-2125.75,779], {icon: ironIcon}).addTo(map).bindPopup("2 Iron Nodes - On Plateau").addTo(ironGroup),
		L.marker([-2996.75,1282.75], {icon: ironIcon}).addTo(map).bindPopup("9 Iron Nodes - On Plateau").addTo(ironGroup),
		L.marker([-3048.25,1317.5], {icon: ironIcon}).addTo(map).bindPopup("15 Iron Nodes - On Plateau").addTo(ironGroup),
		L.marker([-2981.25,1286.25], {icon: ironIcon}).addTo(map).bindPopup("5 Iron Nodes - On Cliff").addTo(ironGroup),
		L.marker([-2163,772.5], {icon: ironIcon}).addTo(map).bindPopup("5 Iron Nodes - On Cliff").addTo(ironGroup),
		L.marker([-2985.75,1293], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-3032.5,1634.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2567.25,881.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2561.75,892.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2957.75,672.75], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2946,1608.75], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2971.5,1651], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2169,711.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2165,699], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-3054.25,1607], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2423,901], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2376.5,852.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2994.25,680.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2620.25,836], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2174.25,775], {icon: ironIcon}).addTo(map).bindPopup("10 Iron Nodes").addTo(ironGroup);
		L.marker([-2926,612.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2928.5,571], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2928.5,562], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2794.25,488], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2806.5,477.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2791.75,493], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2614.75,861.75], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2775,476.5], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2591.5,336.75], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2683.5,791], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2467,874.25], {icon: ironIcon}).addTo(map).bindPopup("3 Iron Nodes").addTo(ironGroup);
		L.marker([-2802.75,2095.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2143,502.75], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2962,1598.25], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2566,334.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2466,359.25], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2988.5,1649.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2660.5,514.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2405.5,905.75], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-3014.75,1670.75], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-3020,1654.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2157.5,732.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2926,651], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2502.5,895.75], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2660.75,798.5], {icon: ironIcon}).addTo(map).bindPopup("4 Iron Nodes").addTo(ironGroup);
		L.marker([-2978,2326.75], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-3027,1822.25], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-3006.5,1863.5], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-2978,670.25], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-2923,541], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-2857.25,560.5], {icon: ironIcon}).addTo(map).bindPopup("6 Iron Nodes").addTo(ironGroup),
		L.marker([-2936,1756], {icon: ironIcon}).addTo(map).bindPopup("7 Iron Nodes").addTo(ironGroup),
		L.marker([-2144,567], {icon: ironIcon}).addTo(map).bindPopup("7 Iron Nodes").addTo(ironGroup),
		L.marker([-2180.75,583.75], {icon: ironIcon}).addTo(map).bindPopup("7 Iron Nodes").addTo(ironGroup),
		L.marker([-2898,517.25], {icon: ironIcon}).addTo(map).bindPopup("7 Iron Nodes").addTo(ironGroup),
		L.marker([-2917.75,628.75], {icon: ironIcon}).addTo(map).bindPopup("11 Iron Nodes").addTo(ironGroup),
		L.marker([-2158.5,560], {icon: ironIcon}).addTo(map).bindPopup("11 Iron Nodes").addTo(ironGroup),
		L.marker([-2147,587.75], {icon: ironIcon}).addTo(map).bindPopup("10 Iron Nodes").addTo(ironGroup),
		L.marker([-2514,340.5], {icon: ironIcon}).addTo(map).bindPopup("12 Iron Nodes").addTo(ironGroup),
		
		//Coal Icons
		L.marker([-2821.25,2106.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2830.25,1531], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2508,916], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2827.25,1505.25], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2552,873], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2945.25,669.25], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2461.5,360.25], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2624.5,845.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2842,2082.25], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2409.25,930.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2461.25,926], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2926.25,546.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2423.5,911.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2494.5,362.75], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2916.25,537.75], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2903.75,518.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2482.75,354], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2841.25,496.5], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2809.5,498.25], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2834.5,586], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2646.75,513], {icon: coalIcon}).addTo(map).bindPopup("1 Coal Node").addTo(coalGroup);
		L.marker([-2836,2098.5], {icon: coalIcon}).addTo(map).bindPopup("3 Coal Nodes").addTo(coalGroup);
		L.marker([-2858,2058.25], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2742.25, 688.5], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2603,862], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2568,867], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2645,836], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2934.25,664.5], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2470,934.25], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2427,943.5], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2258,345], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-2967,671.5], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-3047.75,1744], {icon: coalIcon}).addTo(map).bindPopup("2 Coal Nodes").addTo(coalGroup);
		L.marker([-3021.5,1718.25], {icon: coalIcon}).addTo(map).bindPopup("3 Coal Nodes").addTo(coalGroup);
		L.marker([-2424.5,342], {icon: coalIcon}).addTo(map).bindPopup("3 Coal Nodes").addTo(coalGroup);
		L.marker([-2947,1726], {icon: coalIcon}).addTo(map).bindPopup("3 Coal Nodes").addTo(coalGroup);
		L.marker([-2962,1737.5], {icon: coalIcon}).addTo(map).bindPopup("3 Coal Nodes").addTo(coalGroup);
		
		//Silver Icons
		L.marker([-2815.25,621.25], {icon: silverIcon}).addTo(map).bindPopup("4 Silver Nodes").addTo(silverGroup);
		L.marker([-2799,634.5], {icon: silverIcon}).addTo(map).bindPopup("4 Silver Nodes").addTo(silverGroup);
		L.marker([-2778,601.75], {icon: silverIcon}).addTo(map).bindPopup("2 Silver Nodes").addTo(silverGroup);
		L.marker([-2779,619], {icon: silverIcon}).addTo(map).bindPopup("1 Silver Node").addTo(silverGroup);
		L.marker([-2789.5,653], {icon: silverIcon}).addTo(map).bindPopup("1 Silver Node - On Plateau").addTo(silverGroup);
		
		//Brimstone Icons
		L.marker([-3149,1705], {icon: brimstoneIcon}).addTo(map).bindPopup("Brimstone in Sinner's Refuge").addTo(brimstoneGroup);
		
		//Religon Icons
		L.marker([-3244,1328], {icon: yogIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/Nunu_the_Cannibal' target='_blank'>Yog Trainer - Nunu the Cannibal</a>").addTo(religonGroup);
		L.marker([-2614.5,1630], {icon: setIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/Mek-kamoses' target='_blank'>Set Trainer - Mek-Kamoses</a>").addTo(religonGroup);
		L.marker([-2516,1171], {icon: mitraIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/Muriela_the_Artisan' target='_blank'>Mitra Trainer - Muriela the Artisan</a>").addTo(religonGroup);
		L.marker([-1453.5,693.5], {icon: ymirIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/The_Outcast' target='_blank'>Ymir Trainer - The Outcast</a>").addTo(religonGroup);
		L.marker([-3056.25,3352], {icon: derketoIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/Yakira,_Priestess_of_Derketo' target='_blank'>Derketo Trainer - Yakira, Priestess of Derketo</a>").addTo(religonGroup);

		//Thralls - Blacksmith
		L.marker([-3357,1485.5], {icon: blacksmithIcon}).addTo(map).bindPopup("Blacksmith - Zamorian").addTo(blacksmithGroup);
		L.marker([-2882.75,2117], {icon: blacksmithIcon}).addTo(map).bindPopup("Blacksmith - Zamorian").addTo(blacksmithGroup);
		L.marker([-2588,554.75], {icon: blacksmithIcon}).addTo(map).bindPopup("Blacksmith - Stygian").addTo(blacksmithGroup);
		
		//Thralls - Armorer
		L.marker([-2582.75,553], {icon: armorerIcon}).addTo(map).bindPopup("Armorer - Stygian").addTo(armorerGroup);
		
		//Thralls - Entertainer
		L.marker([-3262.75,1049.75], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Dafari").addTo(entertainerGroup);
		L.marker([-3343.5,2017.5], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Dafari").addTo(entertainerGroup);
		L.marker([-3347.5,2026.75], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Dafari").addTo(entertainerGroup);
		L.marker([-2967,2306.5], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Nordheimer").addTo(entertainerGroup);
		L.marker([-2995.5, 1849.75], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Dafari").addTo(entertainerGroup);
		L.marker([-2987,1760.25], {icon: entertainerIcon}).addTo(map).bindPopup("Entertainer - Dafari").addTo(entertainerGroup);
		L.marker([-2636.25,463], {icon: entertainerIcon}).addTo(map).bindPopup("3 Entertainers - Stygian-Stygian-Zamorian").addTo(entertainerGroup);
		
		//Thralls - Alchemist
		L.marker([-3259.5,1037], {icon: cookIcon}).addTo(map).bindPopup("Alchemist - Dafari").addTo(alchemistGroup);
		L.marker([-3007.75,1753], {icon: cookIcon}).addTo(map).bindPopup("Alchemist - Dafari").addTo(alchemistGroup);
		L.marker([-2718.75,423.75], {icon: cookIcon}).addTo(map).bindPopup("Alchemist - Stygian").addTo(alchemistGroup);
		
		//Thralls - Taskmaster
		L.marker([-3179.25,2317.5], {icon: taskmasterIcon}).addTo(map).bindPopup("Taskmaster - Hyborian").addTo(taskmasterGroup);
		L.marker([-3009.75,1766.25], {icon: taskmasterIcon}).addTo(map).bindPopup("Taskmaster - Dafari").addTo(taskmasterGroup);
		L.marker([-2975.5,1845.75], {icon: taskmasterIcon}).addTo(map).bindPopup("Taskmaster - Dafari").addTo(taskmasterGroup);
		
		//Thralls - Carpenter
		L.marker([-3288.5,1237.5], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Dafari").addTo(carpenterGroup);
		L.marker([-3461.75,1671], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Zamorian").addTo(carpenterGroup);
		L.marker([-2999.5,1773.75], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Dafari").addTo(carpenterGroup);
		L.marker([-3141,1533.5], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Dafari").addTo(carpenterGroup);
		L.marker([-2627,382], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Dafari").addTo(carpenterGroup);
		L.marker([-2609,559.5], {icon: carpenterIcon}).addTo(map).bindPopup("Carpenter - Stygian").addTo(carpenterGroup);
		
		//Thralls - Cook
		L.marker([-2980,1849], {icon: cookIcon}).addTo(map).bindPopup("Cook - Dafari").addTo(cookGroup);
		L.marker([-3007.8,1778.5], {icon: cookIcon}).addTo(map).bindPopup("Cook - Dafari").addTo(cookGroup);
		L.marker([-2999.75,1524.75], {icon: cookIcon}).addTo(map).bindPopup("Cook - Dafari").addTo(cookGroup);
		L.marker([-2721.75,424.75], {icon: cookIcon}).addTo(map).bindPopup("Cook - Stygian").addTo(cookGroup);
		
		//Thralls - Tanner
		L.marker([-3232.5,1304], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Dafari").addTo(tannerGroup);
		L.marker([-3004.5,1785.5], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Dafari").addTo(tannerGroup);
		L.marker([-2899.50,1428.0], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Dafari").addTo(tannerGroup);
		L.marker([-2699,484], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Zamorian").addTo(tannerGroup);
		L.marker([-2667,476.75], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Kushite").addTo(tannerGroup);
		L.marker([-2606,481.5], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Stygian").addTo(tannerGroup);
		L.marker([-2606,481.5], {icon: tannerIcon}).addTo(map).bindPopup("Tanner - Hyrkanian").addTo(tannerGroup);
		
		//Thralls - Smelter
		L.marker([-3412.75,2075.75], {icon: smelterIcon}).addTo(map).bindPopup("Smelter - Stygian").addTo(smelterGroup);
		L.marker([-2883,2119], {icon: smelterIcon}).addTo(map).bindPopup("Smelter - Shemite").addTo(smelterGroup);
		L.marker([-2584.25,550.75], {icon: smelterIcon}).addTo(map).bindPopup("Smelter - Shemite").addTo(smelterGroup);
		
		//Thralls - Priest
		L.marker([-2910.5,1987], {icon: priestIcon}).addTo(map).bindPopup("Priest - Mitra High Priest").addTo(priestGroup);
		L.marker([-2995.25,1769], {icon: priestIcon}).addTo(map).bindPopup("Priest - Yog Priest").addTo(priestGroup);
		L.marker([-2629,551], {icon: priestIcon}).addTo(map).bindPopup("Priest - Set Priest").addTo(priestGroup);
		
		//Thralls - Bearer
		L.marker([-3266,1276.75], {icon: sherpaIcon}).addTo(map).bindPopup("Bearer - Dafari").addTo(sherpaGroup);
		L.marker([-3341.5,2014], {icon: sherpaIcon}).addTo(map).bindPopup("Bearer - Kushite").addTo(sherpaGroup);
		L.marker([-2994.25,1843], {icon: sherpaIcon}).addTo(map).bindPopup("Bearer - Stygian").addTo(sherpaGroup);
		L.marker([-3010.75,1768.5], {icon: sherpaIcon}).addTo(map).bindPopup("Bearer - Dafari").addTo(sherpaGroup);
		L.marker([-2604.25,477.25], {icon: sherpaIcon}).addTo(map).bindPopup("Bearer - Zingarian").addTo(sherpaGroup);
		
		//Named Thralls - Fighter
		L.marker([-2903.25,2258.75], {icon: warriorIcon}).addTo(map).bindPopup("Named Thrall - Tarman (Fighter)").addTo(namedFighterGroup);
		
		//Named Thralls - Taskmaster
		L.marker([-2632.5,385.5], {icon: taskmasterIcon}).addTo(map).bindPopup("Taskmaster Master").addTo(namedTaskmasterGroup);

		//Named Thralls - Entertainer
		L.marker([-2602.5,479.5], {icon: entertainerIcon}).addTo(map).bindPopup("Luba the Luscious").addTo(namedEntertainerGroup);

		
		//Location - Dungeons
		L.marker([-3249.5,996.5], {icon: dungeonIcon}).addTo(map).bindPopup("<a href='https://conanexiles.gamepedia.com/The_Dregs' target='_blank'>The Dregs</a>").addTo(dungeonGroup);
		
		//Location - Caves
		L.marker([-3271,1318.5], {icon: caveIcon}).addTo(map).bindPopup("Cavern of Fiends - Demon Blood, Crystals").addTo(caveGroup);
		L.marker([-3160,1705.25], {icon: caveIcon}).addTo(map).bindPopup("Sinner's Refuge - Brimstone").addTo(caveGroup);
		
		//Group Overlay Combiner
		var groupedOverlays = {
			"Minerals": {
				"Iron": ironGroup,
				"Coal": coalGroup,
				"Brimstone": brimstoneGroup,
				"Crystal": crystalGroup,
				"Silver": silverGroup,
				"Star Metal": starmetalGroup
			},
			"Thralls": {
				"Alchemist": alchemistGroup,
				"Armorer": armorerGroup,
				"Bearer": sherpaGroup,
				"Blacksmith": blacksmithGroup,
				"Carpenter": carpenterGroup,
				"Cook": cookGroup,
				"Entertainer": entertainerGroup,
				"Priest": priestGroup,
				"Tanner": tannerGroup,
				"Taskmaster": taskmasterGroup,
				"Smelter": smelterGroup
			},
			"Named Thralls": {
				"Archer": namedArcherGroup,
				"Alchemist": namedAlchemistGroup,
				"Armorer": namedArmorerGroup,
				"Blacksmith": namedBlacksmithGroup,
				"Carpenter": namedCarpenterGroup,
				"Cook": namedCookGroup,
				"Entertainer": namedEntertainerGroup,
				"Fighter": namedFighterGroup,
				"Priest": namedPriestGroup,
				"Bearer": namedSherpaGroup,
				"Smelter": namedSmelterGroup,
				"Tanner": namedTannerGroup,
				"Taskmaster": namedTaskmasterGroup
			},
			"Locations": {
				"Religon Trainer": religonGroup,
				"Caves": caveGroup,
				"Dungeons": dungeonGroup
			}
		};

		
		//Enable Group Options
		var options = {
			groupCheckboxes: true,
			collapsed: false,
			checkboxesChecked: true
		};
		//Display groups
		L.control.groupedLayers(null, groupedOverlays, options).addTo(map);
		
    </script>
  </body>
</html>
